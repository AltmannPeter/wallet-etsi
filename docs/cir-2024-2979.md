# ZKP requirements in CIR 2024/2979

## Legal basis for ZKP integration

Based on [CIR 2024/2979]([https://eur-lex.europa.eu/legal-content/EN/TXT/HTML/?uri=OJ:L_202402977](https://eur-lex.europa.eu/legal-content/EN/TXT/HTML/?uri=OJ:L_202402979)), there are several specific privacy requirements that directly impact the need for and implementation of privacy techniques, possibly including ZKP.

Recital (5) establishes the regulatory basis for privacy-by-design, with direct implications for cross-relying-party unlinkability:

> To ensure data protection by design and by default, the wallets should be provided with available state-of-the-art privacy enhancing techniques. These features should provide the possibility that wallets can be used without the wallet user being trackable across different wallet-relying parties, if applicable in the usage scenario. For instance, wallet providers should consider state-of-the-art privacy mitigating measures in relation to wallet unit attestations, such as using ephemeral wallet unit attestations or batch issuance. In addition, embedded disclosure policies should warn the wallet users against inappropriate or illegal disclosure of attributes from electronic attestations of attributes. - Recital (8)

The recital mandates state-of-the-art privacy techniques and explicitly names cross-relying-party unlinkability as a goal. Batch issuance of single-show attestations satisfies this through issuing multiple static attestations for later single-show use. Ephemeral attestations cannot be pre-computed and stored as they are freshly generated for each session; a property that is satisfied by techniques relying on ZKP. Note that the recital frames these techniques as a recommendation for Providers in relation to the WUA, rather than a hard requirement.

## Derived ZKP requirements from the legal text

Below is a table deriving ZKP requirements from the above discussed sources.
