# ZKP requirements in CIR 2024/2977

Based on [CIR 2024/2977](https://eur-lex.europa.eu/legal-content/EN/TXT/HTML/?uri=OJ:L_202402977), there are several specific privacy requirements that directly impact the need for and implementation of privacy techniques, possibly including ZKP.

The text does not mention ZKP, but there are privacy outcomes that may not be feasible without ZKP:

> Where providers of person identification data revoke person identification data issued to wallet units, they shall make publicly available the validity status of person identification data they issue, in a privacy preserving manner, and indicate the location of that information in the person identification data. - Article 5(7)

> Providers of person identification data shall enable privacy preserving techniques which ensure unlinkability where the electronic attestations of attributes do not require the identification of the user. - Article 5(8)

The requirements do not specify what the privacy requirements are stating only that the validity status must be privacy preserving and that unlinkability is required when identification of the user is not. If full unlinkability is desired, ZKP is the standard cryptographic method to achieve this.

Unlinkability is mentioned also in relation to what Providers should not be able to do:

> To ensure data protection by design and by default, the wallets should be provided with several privacy enhancing features to prevent providers of electronic identification means and electronic attestation of attributes from combining personal data obtained when providing other services with the personal data processed to provide the services falling within the scope of Regulation (EU) No 910/2014. - Recital (5)

To prevent providers from correlating a user's activity across different services (profiling), the wallet must ensure that the act of presenting a credential does not leak a unique correlation handle to the issuer. If such unlinkability is desired, the wallet must either use batch issuance of single-show salted attribute digests or rely on ZKP.

> certain common functionalities should be available in all wallets, including the ability to securely request, obtain, **select, combine,** store, delete, share, and **present,** under the sole control of the wallet user, person identification data and electronic attestations of attributes. - Recital (6) [emphasis added].

The ability to "select", "combine", and "present" specific data points implies selective disclosure, possibly across multiple credentials. While salted attribut digests offer basic selective disclosure capabilities (disclose an attribute), ZKP offers a more feature rich and robust form of selective disclosure (predicate proofs, linking proofs etc.).
